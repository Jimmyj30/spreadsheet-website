<div fxLayout="column" fxLayoutGap="20px">
  <div class="webpage-instructions">
    <p>
      Help: click on a cell and drag the blue square on the bottom right of the
      cell downwards in order to add new rows (identical to Excel autofill).
    </p>
  </div>
  <div class="vertical-margin">
    <hot-table [settings]="rawDataTableSettings"></hot-table>
  </div>
  <div class="vertical-margin">
    <div>Curve straightening instructions for processed data table:</div>
    <div>(x: manipulated, y: responding)</div>
    <form
      [formGroup]="curveStraighteningInstructionsForm"
      (ngSubmit)="onSubmit()"
    >
      <!-- "y" curve straightening instructions -->
      <span>Plot </span>
      <select
        class="custom-select"
        (change)="changeYOption($event)"
        formControlName="yCurveStraighteningInstructions"
      >
        <option *ngFor="let option of yOptions" [ngValue]="option">
          {{ option }}
        </option>
      </select>
      <span class="left-margin" *ngIf="showYToConstantPower">a=</span>
      <input
        type="text"
        formControlName="yToConstantPower"
        *ngIf="showYToConstantPower"
        class="number-input"
        placeholder="eg: 1.23 or -5/3"
      />

      <span> vs </span>
      <!-- "x" curve straightening instructions -->
      <select
        class="custom-select"
        (change)="changeXOption($event)"
        formControlName="xCurveStraighteningInstructions"
      >
        <option *ngFor="let option of xOptions" [ngValue]="option">
          {{ option }}
        </option>
      </select>
      <span class="left-margin" *ngIf="showXToConstantPower">a=</span>
      <input
        type="text"
        formControlName="xToConstantPower"
        *ngIf="showXToConstantPower"
        class="number-input"
        placeholder="eg: 1.23 or -5/3"
      />
    </form>
  </div>
  <div class="vertical-margin">
    <button
      type="submit"
      (click)="onSubmit()"
      [disabled]="!curveStraighteningInstructionsForm.valid"
    >
      Submit
    </button>
  </div>
  <div *ngIf="processedDataTable" class="vertical-margin">
    <hot-table
      #processedDataTableRef
      [settings]="processedDataTableSettings"
    ></hot-table>
  </div>
  <div *ngIf="processedDataTable">
    <button type="button" (click)="onFinish()">Done</button>
  </div>
</div>
